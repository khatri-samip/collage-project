<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Book Now | Discover Nepal</title>
<link rel="icon" href="images/logo/mainLogo.png">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#fafafa;color:#111;line-height:1.6;}

/* Navbar */
.navbar{
  position:fixed;top:0;left:0;right:0;
  display:flex;justify-content:space-between;align-items:center;
  background:rgba(0,0,0,0.6);padding:16px 30px;backdrop-filter:blur(8px);
  z-index:1000;transition:all 0.3s ease;
}
.navbar.scrolled{background:rgba(0,0,0,0.9);}
.navbar .logo{display:flex;align-items:center;gap:8px;color:#fff;font-weight:600;}
.navbar img{height:38px;}
.navbar a{color:#fff;font-weight:500;margin-left:22px;transition:.3s;}
.navbar a:hover{color:#ffd700;}

/* Layout */
.container{max-width:900px;margin:140px auto 100px;padding:0 1.5rem;text-align:center;}
.container h1{font-size:1.3rem;margin-bottom:0.5rem;}
.container p.subtext{color:#666;margin-bottom:2rem;font-size:0.95rem;}

/* Selected Package */
.selected-package{
  background:#f9f9f9;border:1px solid #111;border-radius:12px;
  padding:1.5rem 1.8rem;display:flex;justify-content:space-between;align-items:center;
  box-shadow:0 5px 15px rgba(0,0,0,0.05);margin-bottom:2.5rem;
}
.package-info{text-align:left;}
.package-info h2{font-size:1.1rem;font-weight:600;margin-bottom:0.3rem;}
.badge{background:#000;color:#fff;font-size:0.7rem;font-weight:600;
  border-radius:8px;padding:0.2rem 0.5rem;margin-left:8px;}
.package-info p{font-size:0.9rem;color:#555;}
.package-price{text-align:right;font-weight:600;font-size:1rem;}

/* Form */
.form-wrapper{
  background:#fff;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,0.08);
  padding:2rem;text-align:left;
}
.form-wrapper h3{font-size:1.1rem;margin-bottom:1.5rem;font-weight:600;}
form{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem 1.5rem;}
label{display:block;font-size:0.9rem;font-weight:600;margin-bottom:0.4rem;}
input,select,textarea{
  width:100%;padding:0.9rem;border:1px solid #ddd;border-radius:8px;
  font-size:0.9rem;background:#f9fafb;transition:all 0.2s ease;
}
input:focus,select:focus,textarea:focus{
  border-color:#111;background:#fff;outline:none;
  box-shadow:0 0 0 2px rgba(0,0,0,0.1);
}
textarea{grid-column:1 / -1;resize:none;overflow-y:hidden;height:100px;}
button{
  grid-column:1 / -1;margin-top:1rem;background:#000;color:#fff;border:1px solid transparent;
  padding:0.9rem;font-size:1rem;font-weight:600;border-radius:8px;cursor:pointer;transition:all 0.3s ease;
}
button:hover{background:#fff;color:#000;border-color:#000;}

/* Footer */
.footer{background:#111;color:#fff;text-align:center;padding:40px 0;margin-top:80px;font-size:0.9rem;}
.footer a{color:#d37474;}
@media(max-width:600px){
  .selected-package{flex-direction:column;align-items:flex-start;text-align:left;}
  .package-price{margin-top:1rem;}
}
</style>
</head>
<body>
<!-- PRELOADER -->
<div id="preloader" style="position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:9999;transition:opacity .6s ease;">
  <div class="spinner" style="width:50px;height:50px;border:5px solid #ffb74d;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;"></div>
  <div class="loader-text" style="margin-top:12px;color:#ffb74d;font-weight:700;">Discover Nepal</div>
</div>

<script>
window.addEventListener('load',()=>{
  const preloader = document.getElementById('preloader');
  preloader.style.opacity='0';
  preloader.style.visibility='hidden';
  preloader.style.pointerEvents='none';
});

// Spinner rotation animation
const style=document.createElement('style');
style.innerHTML='@keyframes spin{to{transform:rotate(360deg);}}';
document.head.appendChild(style);
</script>

<!-- Navbar -->
<nav class="navbar" id="navbar">
  <div class="logo">
    <img src="images/logo/mainlogo.png" alt="Logo">
    <span>Discover Nepal</span>
  </div>
  <div>
    <a href="index.html">Home</a>
    <a href="contact.html">Contact</a>
    <a href="privacy&policy.html">Privacy Policy</a>
  </div>
</nav>

<!-- Form Section -->
<section class="container">
  <h1>Plan Your Trip</h1>
  <p class="subtext">Fill out the form below and our travel experts will contact you to create your perfect Nepal adventure.</p>

  <div class="selected-package">
    <div class="package-info">
      <h2>Package Name <span class="badge">Selected Package</span></h2>
      <p>Duration</p>
      <p>Price per person:</p>
    </div>
    <div class="package-price">$0</div>
  </div>

  <div class="form-wrapper">
    <h3>Inquiry Form</h3>
    <form method="POST" action="submit_inquiry.php" id="inquiryForm">
      <div>
        <label>Full Name *</label>
        <input type="text" name="name" required>
      </div>

      <div>
        <label>Email *</label>
        <input type="email" name="email" required>
      </div>

      <div>
        <label>Phone Number *</label>
        <input type="tel" name="phone" required>
      </div>

      <div>
        <label>Number of Travelers *</label>
        <input type="number" name="travelers" min="1" value="1" required>
      </div>

      <div>
        <label>Preferred Travel Date</label>
        <input type="date" name="date">
      </div>

      <div>
        <label>Destination of Interest *</label>
        <div id="destination-container">
          <input type="text" name="destination" value="Himalayan Adventure" readonly>
        </div>
      </div>

      <div>
        <label>Additional Information</label>
        <textarea name="info" placeholder="Tell us more..."></textarea>
      </div>

      <button type="submit">Submit Inquiry</button>
    </form>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  &copy; 2025 Discover Nepal | <a href="index.html">Back to Home</a>
</footer>

<script>
// Navbar scroll effect
const navbar=document.getElementById('navbar');
window.addEventListener('scroll',()=>{navbar.classList.toggle('scrolled',window.scrollY>50);});

// --- Read URL parameters ---
const params = new URLSearchParams(window.location.search);
const isCustom = params.get("custom");
const optionsParam = params.get("options");

// Default values from query or placeholders
let name = params.get("name");
let duration = params.get("duration");
let price = params.get("price");

// If custom, override defaults
if (isCustom) {
  name = "Custom Package";
  duration = params.get("duration") || "Flexible";
  price = params.get("price") || "Quoted";
}

// --- Update package info section ---
const packageName = document.querySelector(".selected-package .package-info h2");
const packageDuration = document.querySelector(".selected-package .package-info p:nth-of-type(1)");
const packagePrice = document.querySelector(".selected-package .package-price");
const destinationContainer = document.getElementById("destination-container");

packageName.textContent = name + " ";
const badge = document.createElement("span");
badge.className = "badge";
badge.textContent = "Selected Package";
packageName.appendChild(badge);

packageDuration.textContent = duration;
packagePrice.textContent = price;

// --- Handle custom package dropdown ---
if (isCustom && optionsParam) {
  const options = optionsParam.split(",").map(decodeURIComponent);
  const select = document.createElement("select");
  select.name = "destination";
  select.required = true;

  // Add placeholder option
  const placeholder = document.createElement("option");
  placeholder.textContent = "Select a destination";
  placeholder.disabled = true;
  placeholder.selected = true;
  select.appendChild(placeholder);

  // Add package options
  options.forEach(opt => {
    const optionEl = document.createElement("option");
    optionEl.value = opt;
    optionEl.textContent = opt;
    select.appendChild(optionEl);
  });

  destinationContainer.innerHTML = "";
  destinationContainer.appendChild(select);
} else {
  const destinationInput = document.querySelector("input[name='destination']");
  if (destinationInput) destinationInput.value = name;
}

</script>
</body>
</html>
